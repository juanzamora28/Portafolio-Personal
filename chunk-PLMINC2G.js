import{b as Q,c as q,e as J}from"./chunk-BCEJU3MW.js";import{a as _,b as U}from"./chunk-NSD7ZKFA.js";import{$a as N,Cb as G,Da as O,Db as L,Fb as H,Ga as v,Gb as V,Jb as k,Na as c,Pa as R,Qa as e,Ra as t,Sa as s,Ta as P,Ua as T,Wa as B,X as S,Xa as x,Y as C,ab as j,bb as $,db as o,fb as d,jb as h,ka as D,kb as b,t as z,ua as n,ya as w}from"./chunk-WW7CRUNY.js";import{a as A,b as M,g as y}from"./chunk-NKRFROHD.js";var Y=["monthChart"];function Z(l,a){l&1&&(P(0),e(1,"div",51)(2,"div",52)(3,"div",53),S(),e(4,"svg",54),s(5,"circle",55)(6,"path",56),t()(),C(),e(7,"h3",57),o(8," Cargando detalle del cliente... "),t(),e(9,"p",58),o(10," Por favor, espera un momento mientras cargamos los datos. "),t()()(),T())}function K(l,a){if(l&1&&(e(0,"div",59),s(1,"div",60),e(2,"div",61)(3,"header",62)(4,"p",63),o(5," Sucursal con m\xE1s solicitudes "),t(),e(6,"h3",64),o(7),t()(),e(8,"div",65)(9,"div")(10,"div",66),o(11),t(),e(12,"p",67),o(13," Solicitudes realizadas "),t()()(),e(14,"footer",68),s(15,"div",69),e(16,"p",70),o(17),t()()(),s(18,"div",71),t()),l&2){let r=x();n(7),d(" ",r.topSucursal.nombre_sucursal," "),n(4),d(" ",r.topSucursal.total_solicitudes," "),n(6),d(" Total Oportunidades Ganadas: ",r.topSucursal.total_ganadas," ")}}function ee(l,a){if(l&1&&(e(0,"div",72),s(1,"div",73),e(2,"div",61)(3,"header",62)(4,"p",63),o(5," Sucursal con m\xE1s monto en propuestas "),t(),e(6,"h3",64),o(7),t()(),e(8,"div",65)(9,"div")(10,"div",74),o(11),h(12,"number"),t(),e(13,"p",67),o(14," Monto total propuestas "),t()()(),e(15,"footer",68),s(16,"div",69),e(17,"p",75),o(18),h(19,"number"),t()()(),s(20,"div",76),t()),l&2){let r=x();n(7),d(" ",r.topSucursalMonto.nombre_sucursal," "),n(4),d(" $ ",b(12,3,r.topSucursalMonto.monto_ganadas,"1.0-0")," "),n(7),d(" Monto Adjudicado: $ ",b(19,6,r.topSucursalMonto.monto_adjudicado,"1.0-0")," ")}}function te(l,a){if(l&1&&(e(0,"div",59),s(1,"div",77),e(2,"div",61)(3,"header",62)(4,"p",63),o(5," Monto total de Oportunidades Ganadas "),t(),e(6,"h3",64),o(7," \xA0 "),t()(),e(8,"div",78)(9,"div")(10,"div",79),o(11),h(12,"number"),t(),e(13,"p",67),o(14," \xA0 "),t()()(),e(15,"footer",68),s(16,"div",69),e(17,"p",80),o(18," Total Oportunidades Perdidas: "),e(19,"span",81),o(20),h(21,"number"),t()()()(),s(22,"div",82),t()),l&2){let r=x();n(11),d(" $ ",b(12,2,r.totalMontoGanadasPerdidas.total_monto_ganadas,"1.0-0")," "),n(9),d(" $ ",b(21,5,r.totalMontoGanadasPerdidas.total_monto_perdidas,"1.0-0")," ")}}function re(l,a){if(l&1&&(e(0,"div",91)(1,"div",92)(2,"div",93),o(3),t(),e(4,"span",94),o(5),h(6,"number"),t()(),e(7,"p",95),o(8," Oportunidades Perdidas "),t()()),l&2){let r=x(2);n(3),d(" ",r.summaryOts.total_perdidas," "),n(2),d(" $",b(6,2,r.summaryOts.monto_perdidas,"1.0-0")," ")}}function oe(l,a){if(l&1&&(e(0,"div",96)(1,"div",92)(2,"div",97),o(3),t(),e(4,"span",98),o(5),h(6,"number"),t()(),e(7,"p",95),o(8," \xD3rdenes completadas \xFAltimos 3 meses "),t()()),l&2){let r=x(2);n(3),d(" ",r.summaryOts.total_ots_finalizadas," "),n(2),d(" $",b(6,2,r.summaryOts.total_monto_ot_finalizadas,"1.0-0")," ")}}function ae(l,a){if(l&1&&(e(0,"div",99)(1,"div",92)(2,"div",100),o(3),t(),e(4,"span",101),o(5),h(6,"number"),t()(),e(7,"p",95),o(8," \xD3rdenes pendientes "),t()()),l&2){let r=x(2);n(3),d(" ",r.summaryOts.total_ots_pendientes," "),n(2),d(" $",b(6,2,r.summaryOts.total_monto_ot_pendientes,"1.0-0")," ")}}function ie(l,a){l&1&&(e(0,"div",102),s(1,"div",103,0),t())}function ne(l,a){if(l&1&&(e(0,"div",83),s(1,"div",84),e(2,"h3",85),o(3," Oportunidades Perdidas \u2013 An\xE1lisis OC "),t(),e(4,"div",86),v(5,re,9,5,"div",87)(6,oe,9,5,"div",88)(7,ae,9,5,"div",89),t(),v(8,ie,3,0,"div",90),t()),l&2){let r=x();n(5),c("ngIf",r.summaryOts),n(),c("ngIf",r.summaryOts),n(),c("ngIf",r.summaryOts),n(),c("ngIf",r.solicitudesMensuales.length)}}function le(l,a){if(l&1&&(e(0,"div",104),s(1,"div",105),e(2,"h3",106),o(3),t(),s(4,"div",107),t()),l&2){let r=x();n(3),d(" Embudo de conversi\xF3n de solicitudes por estado para ",r.clienteNombre," ")}}function de(l,a){if(l&1&&(e(0,"tr")(1,"td",108),o(2),t(),e(3,"td",109),o(4),t(),e(5,"td",110),o(6),t(),e(7,"td",111),o(8),t(),e(9,"td",110),o(10),h(11,"number"),t(),e(12,"td",110),o(13),h(14,"number"),t(),e(15,"td",110),o(16),t(),e(17,"td",112),o(18),h(19,"number"),t()()),l&2){let r=a.$implicit,i=a.index;R(`
          group
          transition-colors duration-200
          `,i%2?"bg-gray-50 dark:bg-gray-700":"",`
          hover:bg-gradient-to-r hover:from-indigo-50 hover:to-transparent
          dark:hover:from-pink-900 dark:hover:to-transparent
        `),n(2),d(" ",r.rut_cotizador," "),n(2),d(" ",r.nombre_cotizador," "),n(2),d(" ",r.total_asignadas," "),n(2),d(" ",r.total_ganadas," "),n(2),d(" $",b(11,11,r.monto_asignadas,"1.0-0")," "),n(3),d(" $",b(14,14,r.monto_ganadas,"1.0-0")," "),n(3),d(" ",r.total_negociaciones," "),n(2),d(" ",b(19,17,r.porcentaje_concrecion,"1.0-0"),"% ")}}var W=class l{constructor(a,r,i,m){this.route=a;this.router=r;this.http=i;this.platformId=m}monthChartEl;selectedClient=null;solicitudesMensuales=[];months=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];monthlyChartRef;playInterval;playState=!1;windowSize=this.months.length;speedMs=2e3;frameRate=60;tickMs=1e3/this.frameRate;step=this.tickMs/this.speedMs;windowStart=this.months.length-this.windowSize;cotizadores=[];clienteNombre="";summaryPerdidas=null;summaryOtsFinalizadas=null;otsPendientesSummary=null;solicitudesPorEstado=[];summaryNegociaciones=null;topSucursal=null;topSucursalMonto=null;totalMontoGanadasPerdidas=null;summaryOts=null;isLoading=!1;ngOnInit(){k(this.platformId)&&(this.route.paramMap.subscribe(a=>{let r=a.get("cliente");this.clienteNombre=decodeURIComponent(r),this.initializeAll(r)}),this.router.events.pipe(z(a=>a instanceof Q)).subscribe(()=>this.triggerMonthChartRender()))}ngAfterViewInit(){this.triggerMonthChartRender()}sleep(a){return new Promise(r=>setTimeout(r,a))}initializeAll(a){return y(this,null,function*(){this.isLoading=!0;try{yield this.fetchOverview(a),yield this.fetchSummaryOts(a),yield this.fetchSolicitudesMensuales(a),yield this.fetchSolicitudesPorEstado(a),yield this.fetchCotizadores(a),yield this.fetchSummaryNegociaciones(a),yield new Promise(r=>setTimeout(r,0)),this.triggerMonthChartRender()}catch(r){console.error("Error en initializeAll:",r)}finally{this.isLoading=!1,setTimeout(()=>{this.monthlyChartRef&&this.monthlyChartRef.reflow&&this.monthlyChartRef.reflow()},0)}})}ngOnDestroy(){this.monthlyChartRef&&(this.monthlyChartRef.destroy(),this.monthlyChartRef=null)}triggerMonthChartRender(){k(this.platformId)&&setTimeout(()=>{this.renderSolicitudesMensualesChart()},0)}goBack(){if(this.monthlyChartRef){try{this.monthlyChartRef.destroy()}catch(a){console.warn("Error al destruir monthlyChartRef en goBack():",a)}this.monthlyChartRef=null}this.selectedClient=null,this.router.navigate(["/dashboard3","general-cliente"])}fetchOverview(a){let r=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/overview`;this.http.get(r,{}).subscribe({next:i=>{this.topSucursal=i.topSucursal,this.topSucursalMonto=i.topSucursalMonto,this.totalMontoGanadasPerdidas=i.totalesMontos},error:i=>{console.error("Error al cargar overview:",i),this.topSucursal=null,this.topSucursalMonto=null,this.totalMontoGanadasPerdidas=null}})}fetchSummaryOts(a){let r=new _({}),i=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/summary-ots`;this.http.get(i,{headers:r}).subscribe({next:m=>this.summaryOts=m,error:m=>{console.error("Error summary-ots:",m),this.summaryOts=null}})}fetchSolicitudesMensuales(a){let r=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/solicitudes-mensuales`;this.http.get(r,{}).subscribe({next:i=>{this.solicitudesMensuales=i,this.triggerMonthChartRender()},error:i=>console.error("Error solicitudes-mensuales",i)})}fetchSolicitudesPorEstado(a){let r=new _({}),i=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/solicitudes-por-estado`;return this.http.get(i,{headers:r}).toPromise().then(m=>{this.solicitudesPorEstado=m??[],this.renderFunnelChart()}).catch(m=>{console.error("Error al cargar solicitudes-por-estado:",m),this.solicitudesPorEstado=[]})}renderSolicitudesMensualesChart(){return y(this,null,function*(){if(!k(this.platformId)||!this.monthChartEl||!this.monthChartEl.nativeElement)return;let a=this.monthChartEl.nativeElement;if(this.monthlyChartRef){try{yield this.monthlyChartRef.destroy()}catch(g){console.warn("Error al destruir gr\xE1fica previa:",g)}this.monthlyChartRef=null}let{default:r}=yield import("./chunk-LGABDJFD.js"),i=this.solicitudesMensuales.map(g=>g.nombre_mes),m=[{name:"Creadas",data:this.solicitudesMensuales.map(g=>g.creadas)},{name:"Ganadas",data:this.solicitudesMensuales.map(g=>g.ganadas)},{name:"Enviadas",data:this.solicitudesMensuales.map(g=>g.enviadas)}],u=window.matchMedia("(prefers-color-scheme: dark)").matches,p=u?"#FFFFFF":"#334155",I={chart:{type:"area",height:350,background:"transparent",foreColor:p,toolbar:{show:!1},zoom:{enabled:!1}},theme:{mode:u?"dark":"light"},colors:u?["#7F9CF5","#FBBF24","#67E8F9"]:["#4338CA","#D97706","#0D9488"],series:m,stroke:{curve:"smooth",width:3},fill:{type:"gradient",gradient:{shade:u?"dark":"light",gradientToColors:["#A78BFA","#FCD34D","#5EEAD4"],opacityFrom:.6,opacityTo:.1}},markers:{size:4},grid:{borderColor:u?"#FFFFFF33":"#33415533",strokeDashArray:4},xaxis:{categories:i,axisBorder:{show:!0,color:p},axisTicks:{show:!0,color:p},labels:{style:{colors:Array(i.length).fill(p)}}},yaxis:{title:{text:"Cantidad",style:{color:p}},labels:{style:{colors:Array(5).fill(p)}},axisBorder:{show:!0,color:p},axisTicks:{show:!0,color:p}},legend:{position:"top",labels:{colors:[p]}},dataLabels:{enabled:!1},tooltip:{theme:u?"dark":"light"}};this.monthlyChartRef=new r(a,I),yield this.monthlyChartRef.render()})}renderFunnelChart(){return y(this,null,function*(){!k(this.platformId)||!this.solicitudesPorEstado.length||setTimeout(()=>y(this,null,function*(){let a=document.querySelector("#funnelChart");if(!a){console.error("funnelChart no encontrado.");return}let{default:r}=yield import("./chunk-LGABDJFD.js"),i=["CREADA","ACEPTADA","EN PROPUESTA","PROPUESTA ENVIADA","OPORTUNIDAD GANADA","EN FABRICACI\xD3N","ENVIADA","POST VENTA","FINALIZADA"],m=i,u=i.map(E=>{let F=this.solicitudesPorEstado.find(X=>X.estado===E);return F?F.total:0}),p=window.matchMedia("(prefers-color-scheme: dark)").matches,f=p?"#FFFFFF":"#334155",g={chart:{type:"bar",height:350,background:"transparent",foreColor:f,toolbar:{show:!1}},theme:{mode:p?"dark":"light"},colors:p?["#F472B6","#FBBF24","#67E8F9","#3B82F6","#EC4899","#8B5CF6","#22D3EE","#34D399","#F87171"]:["#BE185D","#B45309","#059669","#2563EB","#9D174D","#7C3AED","#0E7490","#047857","#B91C1C"],plotOptions:{bar:{horizontal:!0,distributed:!0,barHeight:"60%"}},dataLabels:{enabled:!0,style:{colors:[p?"#FFFFFF":"#000000"],fontSize:"12px",fontWeight:"600"},offsetX:0,offsetY:0,dropShadow:{enabled:!1},background:{enabled:!1}},series:[{name:"Cantidad",data:u}],labels:m,grid:{borderColor:p?"#FFFFFF33":"#33415533",strokeDashArray:4},xaxis:{categories:m,axisBorder:{show:!0,color:f},axisTicks:{show:!0,color:f},labels:{style:{colors:Array(m.length).fill(f)}}},yaxis:{labels:{style:{colors:Array(m.length).fill(f)}}},legend:{position:"bottom",labels:{colors:[f]},itemMargin:{horizontal:8,vertical:0}},tooltip:{theme:p?"dark":"light",y:{formatter:E=>`${E} solicitudes`}}};new r(a,g).render()}),0)})}fetchCotizadores(a){let r=new _({}),i=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/cotizadores`;this.http.get(i,{headers:r}).subscribe({next:m=>{this.cotizadores=m.map(u=>M(A({},u),{porcentaje_concrecion:u.total_asignadas?u.total_ganadas/u.total_asignadas*100:0}))},error:m=>{console.error("Error al cargar cotizadores:",m),this.cotizadores=[]}})}fetchSummaryNegociaciones(a){let r=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/summary`;this.http.get(r,{}).subscribe({next:i=>this.summaryNegociaciones=i,error:i=>{console.error("Error summary-negociaciones:",i),this.summaryNegociaciones=null}})}get totalNegociaciones(){return this.summaryNegociaciones?.total_negociaciones??0}get totalRechazadas(){return this.summaryNegociaciones?.total_rechazadas??0}static \u0275fac=function(r){return new(r||l)(w(q),w(J),w(U),w(D))};static \u0275cmp=O({type:l,selectors:[["app-detalle"]],viewQuery:function(r,i){if(r&1&&N(Y,5),r&2){let m;j(m=$())&&(i.monthChartEl=m.first)}},decls:84,vars:10,consts:[["monthChart",""],[4,"ngIf"],[1,"w-full","bg-gray-200","dark:bg-slate-900","min-h-screen","transition-colors","duration-300","main"],[1,"sticky","top-0","z-30","w-full","bg-white/60","dark:bg-gray-900/60","backdrop-blur-md","border-b","border-gray-200","dark:border-gray-800"],[1,"max-w-screen-xl","mx-auto","relative","py-3","px-6","flex","items-center","justify-center"],["type","button",1,"absolute","left-4","top-1/2","transform","-translate-y-1/2","flex","items-center","space-x-2","bg-gray-100/70","dark:bg-gray-800/70","text-gray-800","dark:text-gray-200","border","border-gray-300","dark:border-gray-700","rounded-full","px-4","py-2","shadow-sm","hover:shadow-lg","hover:bg-gradient-to-br","hover:from-red-500","hover:to-orange-400","hover:text-white","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-400","transition-all","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"font-medium"],[1,"text-2xl","md:text-3xl","font-extrabold","bg-clip-text","text-transparent","bg-gradient-to-r","from-teal-400","to-blue-500","dark:from-pink-500","dark:to-purple-500","drop-shadow-lg","transition-all","duration-300","hover:brightness-125"],[1,"p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-6"],["class","relative group overflow-hidden rounded-2xl shadow-xl transform hover:scale-105 transition-all duration-300 bg-white dark:bg-gray-800",4,"ngIf"],["class","relative group overflow-hidden rounded-2xl shadow-xl transform hover:scale-105 transition-all duration-300 bg-white dark:bg-gray-900",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8","mb-8"],["class",`
      relative group overflow-hidden
      bg-gradient-to-br from-purple-50 to-indigo-50
      dark:from-gray-900 dark:to-gray-800
      rounded-2xl shadow-lg hover:shadow-2xl
      transition-shadow duration-300 p-6
      lg:col-span-2
    `,4,"ngIf"],["class",`
      relative group overflow-hidden
      bg-gradient-to-br from-green-50 to-teal-50
      dark:from-gray-900 dark:to-gray-800
      rounded-2xl shadow-lg hover:shadow-2xl
      transition-shadow duration-300 p-6
    `,4,"ngIf"],[1,"relative","overflow-x-auto","bg-white/60","dark:bg-gray-900/60","backdrop-blur-lg","ring-1","ring-gray-200","dark:ring-gray-700","rounded-2xl","shadow-2xl","p-6","mb-6","transition-shadow","duration-300","hover:shadow-3xl"],[1,"min-w-full","divide-y","divide-gray-300","dark:divide-gray-600"],[1,"sticky","top-0","bg-gradient-to-r","from-indigo-500","to-purple-500","dark:from-pink-600","dark:to-red-600","text-white","shadow-md"],[1,"px-5","py-3","text-left","text-xs","font-semibold","uppercase","tracking-wider"],[1,"px-5","py-3","text-right","text-xs","font-semibold","uppercase","tracking-wider"],[1,"bg-white","dark:bg-gray-800","divide-y","divide-gray-200","dark:divide-gray-700"],[3,"class",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mb-6"],[1,"relative","z-0","overflow-hidden","bg-gradient-to-br","from-red-50","to-red-100","dark:from-red-900","dark:to-red-800","rounded-3xl","border-2","border-red-200","dark:border-red-700","p-6","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","before:content-['']","before:absolute","before:-top-4","before:left-1/2","before:w-16","before:h-16","before:-translate-x-1/2","before:bg-red-500","before:rotate-45","before:rounded-lg","before:-z-10"],[1,"relative","z-10"],[1,"text-xs","font-semibold","text-red-600","dark:text-red-300","uppercase","mb-2"],[1,"ri-close-circle-line","inline-block","mr-1"],[1,"flex","items-baseline","space-x-2"],[1,"text-4xl","font-extrabold","text-red-700","dark:text-red-200"],[1,"text-sm","text-red-500","dark:text-red-300"],[1,"absolute","bottom-0","left-0","w-full","h-2","bg-gradient-to-r","from-red-400","to-pink-500","dark:from-red-600","dark:to-purple-600","transform","rotate-2","origin-bottom-left"],[1,"relative","z-0","overflow-hidden","bg-gradient-to-br","from-yellow-50","to-yellow-100","dark:from-yellow-900","dark:to-yellow-800","rounded-3xl","border-2","border-yellow-200","dark:border-yellow-700","p-6","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","before:content-['']","before:absolute","before:-top-4","before:right-6","before:w-14","before:h-14","before:bg-yellow-400","before:rounded-full","before:opacity-30","before:-z-10"],[1,"text-xs","font-semibold","text-yellow-700","dark:text-yellow-300","uppercase","mb-2"],[1,"ri-handshake-line","inline-block","mr-1"],[1,"text-4xl","font-extrabold","text-yellow-800","dark:text-yellow-200"],[1,"text-sm","text-yellow-600","dark:text-yellow-300"],[1,"absolute","bottom-0","right-0","w-3/4","h-1.5","bg-gradient-to-l","from-yellow-500","to-orange-500","dark:from-yellow-600","dark:to-orange-600","skew-y-3","origin-bottom-right"],[1,"relative","z-0","overflow-hidden","bg-gradient-to-br","from-green-50","to-green-100","dark:from-green-900","dark:to-green-800","rounded-3xl","border-2","border-green-200","dark:border-green-700","p-6","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","before:content-['']","before:absolute","before:-top-2","before:left-4","before:w-12","before:h-12","before:bg-green-400","before:rounded-full","before:mix-blend-multiply","before:-z-10"],[1,"text-xs","font-semibold","text-green-600","dark:text-green-300","uppercase","mb-2"],[1,"ri-timer-flash-line","inline-block","mr-1"],[1,"text-4xl","font-extrabold","text-green-700","dark:text-green-200"],[1,"text-sm","text-green-600","dark:text-green-300"],[1,"absolute","bottom-0","left-1/4","w-1/2","h-1.5","bg-gradient-to-r","from-green-500","to-teal-400","dark:from-green-600","dark:to-teal-600","skew-x-12","origin-bottom-left"],[1,"relative","z-0","overflow-hidden","bg-gradient-to-br","from-blue-50","to-blue-100","dark:from-blue-900","dark:to-blue-800","rounded-3xl","border-2","border-blue-200","dark:border-blue-700","p-6","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","before:content-['']","before:absolute","before:-top-6","before:right-10","before:w-20","before:h-20","before:bg-blue-400","before:rounded-full","before:opacity-20","before:-z-10"],[1,"text-xs","font-semibold","text-blue-600","dark:text-blue-300","uppercase","mb-2"],[1,"ri-calendar-event-line","inline-block","mr-1"],[1,"text-4xl","font-extrabold","text-blue-700","dark:text-blue-200"],[1,"text-sm","text-blue-600","dark:text-blue-300"],[1,"absolute","bottom-0","right-1/3","w-2/3","h-1.5","bg-gradient-to-l","from-blue-500","to-indigo-500","dark:from-blue-600","dark:to-indigo-600","skew-y-2","origin-bottom-right"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-white","bg-opacity-20","backdrop-blur-md","dark:bg-black","dark:bg-opacity-60","transition-colors","duration-300"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","hover:shadow-3xl","p-8","flex","flex-col","items-center","space-y-4","max-w-xs","transform","hover:-translate-y-1","transition-all","duration-300"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","dark:from-blue-900","dark:to-blue-800","rounded-full","p-4","flex","items-center","justify-center","w-16","h-16","shadow-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-blue-600","dark:text-blue-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"],[1,"text-2xl","font-semibold","text-gray-800","dark:text-gray-100"],[1,"text-gray-500","dark:text-gray-400","text-center"],[1,"relative","group","overflow-hidden","rounded-2xl","shadow-xl","transform","hover:scale-105","transition-all","duration-300","bg-white","dark:bg-gray-800"],[1,"absolute","top-0","left-0","w-full","h-2","bg-gradient-to-r","from-green-400","to-teal-500"],[1,"flex","flex-col","h-full","p-6","relative","z-10"],[1,"mb-4"],[1,"text-xs","font-semibold","text-gray-600","dark:text-gray-300","uppercase"],[1,"mt-1","text-lg","font-bold","text-gray-900","dark:text-gray-100"],[1,"flex-1","flex","items-center","justify-start"],[1,"text-5xl","font-extrabold","text-green-600","dark:text-green-400","leading-tight"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"mt-6"],[1,"border-t","border-gray-200","dark:border-gray-700"],[1,"mt-4","text-sm","font-medium","text-teal-600","dark:text-teal-400"],[1,"absolute","inset-0","bg-green-500","dark:bg-green-700","opacity-0","group-hover:opacity-10","transition-opacity","duration-300"],[1,"relative","group","overflow-hidden","rounded-2xl","shadow-xl","transform","hover:scale-105","transition-all","duration-300","bg-white","dark:bg-gray-900"],[1,"absolute","top-0","left-0","w-full","h-2","bg-gradient-to-r","from-blue-400","to-indigo-500"],[1,"text-5xl","font-extrabold","text-blue-600","dark:text-blue-400","leading-tight"],[1,"mt-4","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"absolute","inset-0","bg-blue-500","dark:bg-blue-700","opacity-0","group-hover:opacity-10","transition-opacity","duration-300"],[1,"absolute","top-0","left-0","w-full","h-2","bg-gradient-to-r","from-pink-400","to-red-500"],[1,"flex-1","flex","items-center"],[1,"text-5xl","font-extrabold","text-pink-600","dark:text-pink-400","leading-tight"],[1,"mt-4","text-sm","font-semibold","text-red-600","dark:text-red-400"],[1,"font-bold"],[1,"absolute","inset-0","bg-pink-500","dark:bg-pink-700","opacity-0","group-hover:opacity-10","transition-opacity","duration-300"],[1,"relative","group","overflow-hidden","bg-gradient-to-br","from-purple-50","to-indigo-50","dark:from-gray-900","dark:to-gray-800","rounded-2xl","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","p-6","lg:col-span-2"],[1,"absolute","top-0","left-0","w-1","h-full","bg-gradient-to-b","from-purple-500","to-indigo-500"],[1,"ml-4","mb-6","text-lg","font-bold","text-purple-700","dark:text-indigo-300","uppercase","tracking-wide"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class",`
          flex flex-col justify-between
          rounded-xl border-2 border-dashed border-purple-200
          bg-white dark:bg-gray-800
          p-4
          hover:bg-purple-100 dark:hover:bg-gray-700
          transition-colors duration-200
        `,4,"ngIf"],["class",`
          flex flex-col justify-between
          rounded-xl border-2 border-dashed border-yellow-200
          bg-white dark:bg-gray-800
          p-4
          hover:bg-yellow-50 dark:hover:bg-gray-700
          transition-colors duration-200
        `,4,"ngIf"],["class",`
          flex flex-col justify-between
          rounded-xl border-2 border-dashed border-green-200
          bg-white dark:bg-gray-800
          p-4
          hover:bg-green-50 dark:hover:bg-gray-700
          transition-colors duration-200
        `,4,"ngIf"],["class","mt-8 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-inner lg:col-span-2",4,"ngIf"],[1,"flex","flex-col","justify-between","rounded-xl","border-2","border-dashed","border-purple-200","bg-white","dark:bg-gray-800","p-4","hover:bg-purple-100","dark:hover:bg-gray-700","transition-colors","duration-200"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","text-purple-600","dark:text-purple-400"],[1,"ml-2","px-2","py-0.5","rounded-md","text-xs","font-semibold","bg-red-100","dark:bg-red-800","text-red-600","dark:text-red-300"],[1,"mt-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","flex-col","justify-between","rounded-xl","border-2","border-dashed","border-yellow-200","bg-white","dark:bg-gray-800","p-4","hover:bg-yellow-50","dark:hover:bg-gray-700","transition-colors","duration-200"],[1,"text-2xl","font-extrabold","text-yellow-600","dark:text-yellow-400"],[1,"ml-2","px-2","py-0.5","rounded-md","text-xs","font-semibold","bg-yellow-100","dark:bg-yellow-800","text-yellow-700","dark:text-yellow-200"],[1,"flex","flex-col","justify-between","rounded-xl","border-2","border-dashed","border-green-200","bg-white","dark:bg-gray-800","p-4","hover:bg-green-50","dark:hover:bg-gray-700","transition-colors","duration-200"],[1,"text-2xl","font-extrabold","text-green-600","dark:text-green-400"],[1,"ml-2","px-2","py-0.5","rounded-md","text-xs","font-semibold","bg-green-100","dark:bg-green-800","text-green-700","dark:text-green-200"],[1,"mt-8","p-4","bg-white","dark:bg-gray-800","rounded-lg","shadow-inner","lg:col-span-2"],["id","monthChart",1,"w-full","h-96"],[1,"relative","group","overflow-hidden","bg-gradient-to-br","from-green-50","to-teal-50","dark:from-gray-900","dark:to-gray-800","rounded-2xl","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","p-6"],[1,"absolute","top-0","right-0","w-1","h-full","bg-gradient-to-b","from-green-500","to-teal-500"],[1,"mr-4","mb-6","text-lg","font-bold","text-green-700","dark:text-teal-300","uppercase","tracking-wide"],["id","funnelChart",1,"w-full","h-96"],[1,"px-5","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-800","dark:text-gray-100"],[1,"px-5","py-4","whitespace-nowrap","text-sm","text-gray-700","dark:text-gray-200"],[1,"px-5","py-4","whitespace-nowrap","text-sm","text-right","text-gray-800","dark:text-gray-100"],[1,"px-5","py-4","whitespace-nowrap","text-sm","text-right","font-semibold","text-green-600","dark:text-green-400"],[1,"px-5","py-4","whitespace-nowrap","text-sm","text-right","font-semibold","text-blue-600","dark:text-blue-400"]],template:function(r,i){r&1&&(v(0,Z,11,0,"ng-container",1),e(1,"main",2)(2,"header",3)(3,"div",4)(4,"button",5),B("click",function(){return i.goBack()}),S(),e(5,"svg",6),s(6,"path",7),t(),C(),e(7,"span",8),o(8,"Atr\xE1s"),t()(),e(9,"h2",9),o(10),t()()(),e(11,"section",10)(12,"div",11),v(13,K,19,3,"div",12)(14,ee,21,9,"div",13)(15,te,23,8,"div",12),t(),e(16,"div",14),v(17,ne,9,4,"div",15)(18,le,5,1,"div",16),t(),e(19,"div",17)(20,"table",18)(21,"thead")(22,"tr",19)(23,"th",20),o(24," RUT "),t(),e(25,"th",20),o(26," Cotizador "),t(),e(27,"th",21),o(28," Asignadas "),t(),e(29,"th",21),o(30," Ganadas "),t(),e(31,"th",21),o(32," Monto propuesto "),t(),e(33,"th",21),o(34," Monto ganado "),t(),e(35,"th",21),o(36," Propuestas Econ\xF3micas "),t(),e(37,"th",21),o(38," % Concreci\xF3n "),t()()(),e(39,"tbody",22),v(40,de,20,20,"tr",23),t()()(),e(41,"div",24)(42,"div",25)(43,"div",26)(44,"div",27),s(45,"i",28),o(46,"Solicitudes Rechazadas "),t(),e(47,"div",29)(48,"span",30),o(49),t(),e(50,"span",31),o(51,"rechazos"),t()()(),s(52,"div",32),t(),e(53,"div",33)(54,"div",26)(55,"div",34),s(56,"i",35),o(57,"Total Negociaciones "),t(),e(58,"div",29)(59,"span",36),o(60),t(),e(61,"span",37),o(62,"acuerdos"),t()()(),s(63,"div",38),t(),e(64,"div",39)(65,"div",26)(66,"div",40),s(67,"i",41),o(68,"Atrasos "),t(),e(69,"div",29),s(70,"span",42),e(71,"span",43),o(72,"eventos"),t()()(),s(73,"div",44),t(),e(74,"div",45)(75,"div",26)(76,"div",46),s(77,"i",47),o(78,"D\xEDas de retraso total "),t(),e(79,"div",29),s(80,"span",48),e(81,"span",49),o(82,"d\xEDas"),t()()(),s(83,"div",50),t()()()()),r&2&&(c("ngIf",i.isLoading),n(10),d(" ",i.clienteNombre," "),n(3),c("ngIf",i.topSucursal),n(),c("ngIf",i.topSucursalMonto),n(),c("ngIf",i.totalMontoGanadasPerdidas),n(2),c("ngIf",i.summaryOts),n(),c("ngIf",i.solicitudesPorEstado.length),n(22),c("ngForOf",i.cotizadores),n(9),d(" ",i.totalRechazadas," "),n(11),d(" ",i.totalNegociaciones," "))},dependencies:[L,V,G,H],encapsulation:2})};export{W as DetalleComponent};
