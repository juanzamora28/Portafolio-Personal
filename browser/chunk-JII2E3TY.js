import{b as Q,c as q,e as J}from"./chunk-BCEJU3MW.js";import{a as y,b as U}from"./chunk-NSD7ZKFA.js";import{$a as B,Cb as G,Da as O,Db as L,Fb as H,Ga as v,Gb as V,Jb as w,Na as p,Pa as T,Qa as e,Ra as r,Sa as m,Ta as R,Ua as P,Wa as N,X as S,Xa as x,Y as C,ab as j,bb as $,db as o,fb as s,jb as h,ka as D,kb as b,t as z,ua as n,ya as _}from"./chunk-WW7CRUNY.js";import{a as F,b as M,g as k}from"./chunk-NKRFROHD.js";var Y=["monthChart"];function Z(d,a){d&1&&(R(0),e(1,"div",51)(2,"div",52)(3,"div",53),S(),e(4,"svg",54),m(5,"circle",55)(6,"path",56),r()(),C(),e(7,"h3",57),o(8," Cargando detalle del cliente... "),r(),e(9,"p",58),o(10," Por favor, espera un momento mientras cargamos los datos. "),r()()(),P())}function K(d,a){if(d&1&&(e(0,"div",59),m(1,"div",60),e(2,"div",61)(3,"header",62)(4,"p",63),o(5," Sucursal con m\xE1s solicitudes "),r(),e(6,"h3",64),o(7),r()(),e(8,"div",65)(9,"div")(10,"div",66),o(11),r(),e(12,"p",67),o(13," Solicitudes realizadas "),r()()(),e(14,"footer",68),m(15,"div",69),e(16,"p",70),o(17),r()()(),m(18,"div",71),r()),d&2){let t=x();n(7),s(" ",t.topSucursal.nombre_sucursal," "),n(4),s(" ",t.topSucursal.total_solicitudes," "),n(6),s(" Total Oportunidades Ganadas: ",t.topSucursal.total_ganadas," ")}}function ee(d,a){if(d&1&&(e(0,"div",72),m(1,"div",73),e(2,"div",61)(3,"header",62)(4,"p",63),o(5," Sucursal con m\xE1s monto en propuestas "),r(),e(6,"h3",64),o(7),r()(),e(8,"div",65)(9,"div")(10,"div",74),o(11),h(12,"number"),r(),e(13,"p",67),o(14," Monto total propuestas "),r()()(),e(15,"footer",68),m(16,"div",69),e(17,"p",75),o(18),h(19,"number"),r()()(),m(20,"div",76),r()),d&2){let t=x();n(7),s(" ",t.topSucursalMonto.nombre_sucursal," "),n(4),s(" $ ",b(12,3,t.topSucursalMonto.monto_ganadas,"1.0-0")," "),n(7),s(" Monto Adjudicado: $ ",b(19,6,t.topSucursalMonto.monto_adjudicado,"1.0-0")," ")}}function te(d,a){if(d&1&&(e(0,"div",59),m(1,"div",77),e(2,"div",61)(3,"header",62)(4,"p",63),o(5," Monto total de Oportunidades Ganadas "),r(),e(6,"h3",64),o(7," \xA0 "),r()(),e(8,"div",78)(9,"div")(10,"div",79),o(11),h(12,"number"),r(),e(13,"p",67),o(14," \xA0 "),r()()(),e(15,"footer",68),m(16,"div",69),e(17,"p",80),o(18," Total Oportunidades Perdidas: "),e(19,"span",81),o(20),h(21,"number"),r()()()(),m(22,"div",82),r()),d&2){let t=x();n(11),s(" $ ",b(12,2,t.totalMontoGanadasPerdidas.total_monto_ganadas,"1.0-0")," "),n(9),s(" $ ",b(21,5,t.totalMontoGanadasPerdidas.total_monto_perdidas,"1.0-0")," ")}}function re(d,a){if(d&1&&(e(0,"div",91)(1,"div",92)(2,"div",93),o(3),r(),e(4,"span",94),o(5),h(6,"number"),r()(),e(7,"p",95),o(8," Oportunidades Perdidas "),r()()),d&2){let t=x(2);n(3),s(" ",t.summaryOts.total_perdidas," "),n(2),s(" $",b(6,2,t.summaryOts.monto_perdidas,"1.0-0")," ")}}function oe(d,a){if(d&1&&(e(0,"div",96)(1,"div",92)(2,"div",97),o(3),r(),e(4,"span",98),o(5),h(6,"number"),r()(),e(7,"p",95),o(8," \xD3rdenes completadas \xFAltimos 3 meses "),r()()),d&2){let t=x(2);n(3),s(" ",t.summaryOts.total_ots_finalizadas," "),n(2),s(" $",b(6,2,t.summaryOts.total_monto_ot_finalizadas,"1.0-0")," ")}}function ae(d,a){if(d&1&&(e(0,"div",99)(1,"div",92)(2,"div",100),o(3),r(),e(4,"span",101),o(5),h(6,"number"),r()(),e(7,"p",95),o(8," \xD3rdenes pendientes "),r()()),d&2){let t=x(2);n(3),s(" ",t.summaryOts.total_ots_pendientes," "),n(2),s(" $",b(6,2,t.summaryOts.total_monto_ot_pendientes,"1.0-0")," ")}}function ne(d,a){d&1&&(e(0,"div",102),m(1,"div",103,0),r())}function ie(d,a){if(d&1&&(e(0,"div",83),m(1,"div",84),e(2,"h3",85),o(3," Oportunidades Perdidas \u2013 An\xE1lisis OC "),r(),e(4,"div",86),v(5,re,9,5,"div",87)(6,oe,9,5,"div",88)(7,ae,9,5,"div",89),r(),v(8,ne,3,0,"div",90),r()),d&2){let t=x();n(5),p("ngIf",t.summaryOts),n(),p("ngIf",t.summaryOts),n(),p("ngIf",t.summaryOts),n(),p("ngIf",t.solicitudesMensuales.length)}}function le(d,a){if(d&1&&(e(0,"div",104),m(1,"div",105),e(2,"h3",106),o(3),r(),m(4,"div",107),r()),d&2){let t=x();n(3),s(" Embudo de conversi\xF3n de solicitudes por estado para ",t.clienteNombre," ")}}function de(d,a){if(d&1&&(e(0,"tr")(1,"td",108),o(2),r(),e(3,"td",109),o(4),r(),e(5,"td",110),o(6),r(),e(7,"td",111),o(8),r(),e(9,"td",110),o(10),h(11,"number"),r(),e(12,"td",110),o(13),h(14,"number"),r(),e(15,"td",110),o(16),r(),e(17,"td",112),o(18),h(19,"number"),r()()),d&2){let t=a.$implicit,i=a.index;T(`
          group
          transition-colors duration-200
          `,i%2?"bg-gray-50 dark:bg-gray-700":"",`
          hover:bg-gradient-to-r hover:from-indigo-50 hover:to-transparent
          dark:hover:from-pink-900 dark:hover:to-transparent
        `),n(2),s(" ",t.rut_cotizador," "),n(2),s(" ",t.nombre_cotizador," "),n(2),s(" ",t.total_asignadas," "),n(2),s(" ",t.total_ganadas," "),n(2),s(" $",b(11,11,t.monto_asignadas,"1.0-0")," "),n(3),s(" $",b(14,14,t.monto_ganadas,"1.0-0")," "),n(3),s(" ",t.total_negociaciones," "),n(2),s(" ",b(19,17,t.porcentaje_concrecion,"1.0-0"),"% ")}}var W=class d{constructor(a,t,i,u){this.route=a;this.router=t;this.http=i;this.platformId=u}monthChartEl;selectedClient=null;solicitudesMensuales=[];months=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];monthlyChartRef;playInterval;playState=!1;windowSize=this.months.length;speedMs=2e3;frameRate=60;tickMs=1e3/this.frameRate;step=this.tickMs/this.speedMs;windowStart=this.months.length-this.windowSize;cotizadores=[];clienteNombre="";summaryPerdidas=null;summaryOtsFinalizadas=null;otsPendientesSummary=null;solicitudesPorEstado=[];summaryNegociaciones=null;topSucursal=null;topSucursalMonto=null;totalMontoGanadasPerdidas=null;summaryOts=null;isLoading=!1;ngOnInit(){w(this.platformId)&&(this.route.paramMap.subscribe(a=>{let t=a.get("cliente");this.clienteNombre=decodeURIComponent(t),this.initializeAll(t)}),this.router.events.pipe(z(a=>a instanceof Q)).subscribe(()=>this.triggerMonthChartRender()))}getToken(){return w(this.platformId)?localStorage.getItem("token"):null}ngAfterViewInit(){this.triggerMonthChartRender()}sleep(a){return new Promise(t=>setTimeout(t,a))}initializeAll(a){return k(this,null,function*(){this.isLoading=!0;try{yield this.fetchOverview(a),yield this.fetchSummaryOts(a),yield this.fetchSolicitudesMensuales(a),yield this.fetchSolicitudesPorEstado(a),yield this.fetchCotizadores(a),yield this.fetchSummaryNegociaciones(a),yield new Promise(t=>setTimeout(t,0)),this.triggerMonthChartRender()}catch(t){console.error("Error en initializeAll:",t)}finally{this.isLoading=!1,setTimeout(()=>{this.monthlyChartRef&&this.monthlyChartRef.reflow&&this.monthlyChartRef.reflow()},0)}})}ngOnDestroy(){this.monthlyChartRef&&(this.monthlyChartRef.destroy(),this.monthlyChartRef=null)}triggerMonthChartRender(){w(this.platformId)&&setTimeout(()=>{this.renderSolicitudesMensualesChart()},0)}goBack(){if(this.monthlyChartRef){try{this.monthlyChartRef.destroy()}catch(a){console.warn("Error al destruir monthlyChartRef en goBack():",a)}this.monthlyChartRef=null}this.selectedClient=null,this.router.navigate(["/dashboard3","general-cliente"])}fetchOverview(a){let t=this.getToken();if(!t){console.warn("[Overview] No hay token en localStorage, salto la petici\xF3n");return}let i=new y({"Access-Token":t}),u=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/overview`;this.http.get(u,{headers:i}).subscribe({next:l=>{this.topSucursal=l.topSucursal,this.topSucursalMonto=l.topSucursalMonto,this.totalMontoGanadasPerdidas=l.totalesMontos},error:l=>{console.error("Error al cargar overview:",l),this.topSucursal=null,this.topSucursalMonto=null,this.totalMontoGanadasPerdidas=null}})}fetchSummaryOts(a){let t=this.getToken();if(!t)return;let i=new y({"Access-Token":t}),u=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/summary-ots`;this.http.get(u,{headers:i}).subscribe({next:l=>this.summaryOts=l,error:l=>{console.error("Error summary-ots:",l),this.summaryOts=null}})}fetchSolicitudesMensuales(a){let t=this.getToken();if(!t)return;let i=new y({"Access-Token":t}),u=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/solicitudes-mensuales`;this.http.get(u,{headers:i}).subscribe({next:l=>{this.solicitudesMensuales=l,this.triggerMonthChartRender()},error:l=>console.error("Error solicitudes-mensuales",l)})}fetchSolicitudesPorEstado(a){let t=this.getToken();if(!t)return console.warn("[SolicitudesPorEstado] no hay token, salto petici\xF3n"),Promise.resolve();let i=new y({"Access-Token":t}),u=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/solicitudes-por-estado`;return this.http.get(u,{headers:i}).toPromise().then(l=>{this.solicitudesPorEstado=l??[],this.renderFunnelChart()}).catch(l=>{console.error("Error al cargar solicitudes-por-estado:",l),this.solicitudesPorEstado=[]})}renderSolicitudesMensualesChart(){return k(this,null,function*(){if(!w(this.platformId)||!this.monthChartEl||!this.monthChartEl.nativeElement)return;let a=this.monthChartEl.nativeElement;if(this.monthlyChartRef){try{yield this.monthlyChartRef.destroy()}catch(g){console.warn("Error al destruir gr\xE1fica previa:",g)}this.monthlyChartRef=null}let{default:t}=yield import("./chunk-LGABDJFD.js"),i=this.solicitudesMensuales.map(g=>g.nombre_mes),u=[{name:"Creadas",data:this.solicitudesMensuales.map(g=>g.creadas)},{name:"Ganadas",data:this.solicitudesMensuales.map(g=>g.ganadas)},{name:"Enviadas",data:this.solicitudesMensuales.map(g=>g.enviadas)}],l=window.matchMedia("(prefers-color-scheme: dark)").matches,c=l?"#FFFFFF":"#334155",I={chart:{type:"area",height:350,background:"transparent",foreColor:c,toolbar:{show:!1},zoom:{enabled:!1}},theme:{mode:l?"dark":"light"},colors:l?["#7F9CF5","#FBBF24","#67E8F9"]:["#4338CA","#D97706","#0D9488"],series:u,stroke:{curve:"smooth",width:3},fill:{type:"gradient",gradient:{shade:l?"dark":"light",gradientToColors:["#A78BFA","#FCD34D","#5EEAD4"],opacityFrom:.6,opacityTo:.1}},markers:{size:4},grid:{borderColor:l?"#FFFFFF33":"#33415533",strokeDashArray:4},xaxis:{categories:i,axisBorder:{show:!0,color:c},axisTicks:{show:!0,color:c},labels:{style:{colors:Array(i.length).fill(c)}}},yaxis:{title:{text:"Cantidad",style:{color:c}},labels:{style:{colors:Array(5).fill(c)}},axisBorder:{show:!0,color:c},axisTicks:{show:!0,color:c}},legend:{position:"top",labels:{colors:[c]}},dataLabels:{enabled:!1},tooltip:{theme:l?"dark":"light"}};this.monthlyChartRef=new t(a,I),yield this.monthlyChartRef.render()})}renderFunnelChart(){return k(this,null,function*(){!w(this.platformId)||!this.solicitudesPorEstado.length||setTimeout(()=>k(this,null,function*(){let a=document.querySelector("#funnelChart");if(!a){console.error("funnelChart no encontrado.");return}let{default:t}=yield import("./chunk-LGABDJFD.js"),i=["CREADA","ACEPTADA","EN PROPUESTA","PROPUESTA ENVIADA","OPORTUNIDAD GANADA","EN FABRICACI\xD3N","ENVIADA","POST VENTA","FINALIZADA"],u=i,l=i.map(E=>{let A=this.solicitudesPorEstado.find(X=>X.estado===E);return A?A.total:0}),c=window.matchMedia("(prefers-color-scheme: dark)").matches,f=c?"#FFFFFF":"#334155",g={chart:{type:"bar",height:350,background:"transparent",foreColor:f,toolbar:{show:!1}},theme:{mode:c?"dark":"light"},colors:c?["#F472B6","#FBBF24","#67E8F9","#3B82F6","#EC4899","#8B5CF6","#22D3EE","#34D399","#F87171"]:["#BE185D","#B45309","#059669","#2563EB","#9D174D","#7C3AED","#0E7490","#047857","#B91C1C"],plotOptions:{bar:{horizontal:!0,distributed:!0,barHeight:"60%"}},dataLabels:{enabled:!0,style:{colors:[c?"#FFFFFF":"#000000"],fontSize:"12px",fontWeight:"600"},offsetX:0,offsetY:0,dropShadow:{enabled:!1},background:{enabled:!1}},series:[{name:"Cantidad",data:l}],labels:u,grid:{borderColor:c?"#FFFFFF33":"#33415533",strokeDashArray:4},xaxis:{categories:u,axisBorder:{show:!0,color:f},axisTicks:{show:!0,color:f},labels:{style:{colors:Array(u.length).fill(f)}}},yaxis:{labels:{style:{colors:Array(u.length).fill(f)}}},legend:{position:"bottom",labels:{colors:[f]},itemMargin:{horizontal:8,vertical:0}},tooltip:{theme:c?"dark":"light",y:{formatter:E=>`${E} solicitudes`}}};new t(a,g).render()}),0)})}fetchCotizadores(a){let t=this.getToken();if(!t){console.warn("[Cotizadores] no hay token, salto petici\xF3n"),this.cotizadores=[];return}let i=new y({"Access-Token":t}),u=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/cotizadores`;this.http.get(u,{headers:i}).subscribe({next:l=>{this.cotizadores=l.map(c=>M(F({},c),{porcentaje_concrecion:c.total_asignadas?c.total_ganadas/c.total_asignadas*100:0}))},error:l=>{console.error("Error al cargar cotizadores:",l),this.cotizadores=[]}})}fetchSummaryNegociaciones(a){let t=this.getToken();if(!t){console.warn("[SummaryNegociaciones] no hay token, salto petici\xF3n"),this.summaryNegociaciones=null;return}let i=new y({"Access-Token":t}),u=`https://dashboard3-api-production.up.railway.app/api/dashboard/dashboard-cliente/${a}/summary`;this.http.get(u,{headers:i}).subscribe({next:l=>this.summaryNegociaciones=l,error:l=>{console.error("Error summary-negociaciones:",l),this.summaryNegociaciones=null}})}get totalNegociaciones(){return this.summaryNegociaciones?.total_negociaciones??0}get totalRechazadas(){return this.summaryNegociaciones?.total_rechazadas??0}static \u0275fac=function(t){return new(t||d)(_(q),_(J),_(U),_(D))};static \u0275cmp=O({type:d,selectors:[["app-detalle"]],viewQuery:function(t,i){if(t&1&&B(Y,5),t&2){let u;j(u=$())&&(i.monthChartEl=u.first)}},decls:84,vars:10,consts:[["monthChart",""],[4,"ngIf"],[1,"w-full","bg-gray-200","dark:bg-slate-900","min-h-screen","transition-colors","duration-300","main"],[1,"sticky","top-0","z-30","w-full","bg-white/60","dark:bg-gray-900/60","backdrop-blur-md","border-b","border-gray-200","dark:border-gray-800"],[1,"max-w-screen-xl","mx-auto","relative","py-3","px-6","flex","items-center","justify-center"],["type","button",1,"absolute","left-4","top-1/2","transform","-translate-y-1/2","flex","items-center","space-x-2","bg-gray-100/70","dark:bg-gray-800/70","text-gray-800","dark:text-gray-200","border","border-gray-300","dark:border-gray-700","rounded-full","px-4","py-2","shadow-sm","hover:shadow-lg","hover:bg-gradient-to-br","hover:from-red-500","hover:to-orange-400","hover:text-white","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-400","transition-all","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"font-medium"],[1,"text-2xl","md:text-3xl","font-extrabold","bg-clip-text","text-transparent","bg-gradient-to-r","from-teal-400","to-blue-500","dark:from-pink-500","dark:to-purple-500","drop-shadow-lg","transition-all","duration-300","hover:brightness-125"],[1,"p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-6"],["class","relative group overflow-hidden rounded-2xl shadow-xl transform hover:scale-105 transition-all duration-300 bg-white dark:bg-gray-800",4,"ngIf"],["class","relative group overflow-hidden rounded-2xl shadow-xl transform hover:scale-105 transition-all duration-300 bg-white dark:bg-gray-900",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8","mb-8"],["class",`
      relative group overflow-hidden
      bg-gradient-to-br from-purple-50 to-indigo-50
      dark:from-gray-900 dark:to-gray-800
      rounded-2xl shadow-lg hover:shadow-2xl
      transition-shadow duration-300 p-6
      lg:col-span-2
    `,4,"ngIf"],["class",`
      relative group overflow-hidden
      bg-gradient-to-br from-green-50 to-teal-50
      dark:from-gray-900 dark:to-gray-800
      rounded-2xl shadow-lg hover:shadow-2xl
      transition-shadow duration-300 p-6
    `,4,"ngIf"],[1,"relative","overflow-x-auto","bg-white/60","dark:bg-gray-900/60","backdrop-blur-lg","ring-1","ring-gray-200","dark:ring-gray-700","rounded-2xl","shadow-2xl","p-6","mb-6","transition-shadow","duration-300","hover:shadow-3xl"],[1,"min-w-full","divide-y","divide-gray-300","dark:divide-gray-600"],[1,"sticky","top-0","bg-gradient-to-r","from-indigo-500","to-purple-500","dark:from-pink-600","dark:to-red-600","text-white","shadow-md"],[1,"px-5","py-3","text-left","text-xs","font-semibold","uppercase","tracking-wider"],[1,"px-5","py-3","text-right","text-xs","font-semibold","uppercase","tracking-wider"],[1,"bg-white","dark:bg-gray-800","divide-y","divide-gray-200","dark:divide-gray-700"],[3,"class",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mb-6"],[1,"relative","z-0","overflow-hidden","bg-gradient-to-br","from-red-50","to-red-100","dark:from-red-900","dark:to-red-800","rounded-3xl","border-2","border-red-200","dark:border-red-700","p-6","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","before:content-['']","before:absolute","before:-top-4","before:left-1/2","before:w-16","before:h-16","before:-translate-x-1/2","before:bg-red-500","before:rotate-45","before:rounded-lg","before:-z-10"],[1,"relative","z-10"],[1,"text-xs","font-semibold","text-red-600","dark:text-red-300","uppercase","mb-2"],[1,"ri-close-circle-line","inline-block","mr-1"],[1,"flex","items-baseline","space-x-2"],[1,"text-4xl","font-extrabold","text-red-700","dark:text-red-200"],[1,"text-sm","text-red-500","dark:text-red-300"],[1,"absolute","bottom-0","left-0","w-full","h-2","bg-gradient-to-r","from-red-400","to-pink-500","dark:from-red-600","dark:to-purple-600","transform","rotate-2","origin-bottom-left"],[1,"relative","z-0","overflow-hidden","bg-gradient-to-br","from-yellow-50","to-yellow-100","dark:from-yellow-900","dark:to-yellow-800","rounded-3xl","border-2","border-yellow-200","dark:border-yellow-700","p-6","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","before:content-['']","before:absolute","before:-top-4","before:right-6","before:w-14","before:h-14","before:bg-yellow-400","before:rounded-full","before:opacity-30","before:-z-10"],[1,"text-xs","font-semibold","text-yellow-700","dark:text-yellow-300","uppercase","mb-2"],[1,"ri-handshake-line","inline-block","mr-1"],[1,"text-4xl","font-extrabold","text-yellow-800","dark:text-yellow-200"],[1,"text-sm","text-yellow-600","dark:text-yellow-300"],[1,"absolute","bottom-0","right-0","w-3/4","h-1.5","bg-gradient-to-l","from-yellow-500","to-orange-500","dark:from-yellow-600","dark:to-orange-600","skew-y-3","origin-bottom-right"],[1,"relative","z-0","overflow-hidden","bg-gradient-to-br","from-green-50","to-green-100","dark:from-green-900","dark:to-green-800","rounded-3xl","border-2","border-green-200","dark:border-green-700","p-6","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","before:content-['']","before:absolute","before:-top-2","before:left-4","before:w-12","before:h-12","before:bg-green-400","before:rounded-full","before:mix-blend-multiply","before:-z-10"],[1,"text-xs","font-semibold","text-green-600","dark:text-green-300","uppercase","mb-2"],[1,"ri-timer-flash-line","inline-block","mr-1"],[1,"text-4xl","font-extrabold","text-green-700","dark:text-green-200"],[1,"text-sm","text-green-600","dark:text-green-300"],[1,"absolute","bottom-0","left-1/4","w-1/2","h-1.5","bg-gradient-to-r","from-green-500","to-teal-400","dark:from-green-600","dark:to-teal-600","skew-x-12","origin-bottom-left"],[1,"relative","z-0","overflow-hidden","bg-gradient-to-br","from-blue-50","to-blue-100","dark:from-blue-900","dark:to-blue-800","rounded-3xl","border-2","border-blue-200","dark:border-blue-700","p-6","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","before:content-['']","before:absolute","before:-top-6","before:right-10","before:w-20","before:h-20","before:bg-blue-400","before:rounded-full","before:opacity-20","before:-z-10"],[1,"text-xs","font-semibold","text-blue-600","dark:text-blue-300","uppercase","mb-2"],[1,"ri-calendar-event-line","inline-block","mr-1"],[1,"text-4xl","font-extrabold","text-blue-700","dark:text-blue-200"],[1,"text-sm","text-blue-600","dark:text-blue-300"],[1,"absolute","bottom-0","right-1/3","w-2/3","h-1.5","bg-gradient-to-l","from-blue-500","to-indigo-500","dark:from-blue-600","dark:to-indigo-600","skew-y-2","origin-bottom-right"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-white","bg-opacity-20","backdrop-blur-md","dark:bg-black","dark:bg-opacity-60","transition-colors","duration-300"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","hover:shadow-3xl","p-8","flex","flex-col","items-center","space-y-4","max-w-xs","transform","hover:-translate-y-1","transition-all","duration-300"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","dark:from-blue-900","dark:to-blue-800","rounded-full","p-4","flex","items-center","justify-center","w-16","h-16","shadow-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-blue-600","dark:text-blue-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"],[1,"text-2xl","font-semibold","text-gray-800","dark:text-gray-100"],[1,"text-gray-500","dark:text-gray-400","text-center"],[1,"relative","group","overflow-hidden","rounded-2xl","shadow-xl","transform","hover:scale-105","transition-all","duration-300","bg-white","dark:bg-gray-800"],[1,"absolute","top-0","left-0","w-full","h-2","bg-gradient-to-r","from-green-400","to-teal-500"],[1,"flex","flex-col","h-full","p-6","relative","z-10"],[1,"mb-4"],[1,"text-xs","font-semibold","text-gray-600","dark:text-gray-300","uppercase"],[1,"mt-1","text-lg","font-bold","text-gray-900","dark:text-gray-100"],[1,"flex-1","flex","items-center","justify-start"],[1,"text-5xl","font-extrabold","text-green-600","dark:text-green-400","leading-tight"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"mt-6"],[1,"border-t","border-gray-200","dark:border-gray-700"],[1,"mt-4","text-sm","font-medium","text-teal-600","dark:text-teal-400"],[1,"absolute","inset-0","bg-green-500","dark:bg-green-700","opacity-0","group-hover:opacity-10","transition-opacity","duration-300"],[1,"relative","group","overflow-hidden","rounded-2xl","shadow-xl","transform","hover:scale-105","transition-all","duration-300","bg-white","dark:bg-gray-900"],[1,"absolute","top-0","left-0","w-full","h-2","bg-gradient-to-r","from-blue-400","to-indigo-500"],[1,"text-5xl","font-extrabold","text-blue-600","dark:text-blue-400","leading-tight"],[1,"mt-4","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"absolute","inset-0","bg-blue-500","dark:bg-blue-700","opacity-0","group-hover:opacity-10","transition-opacity","duration-300"],[1,"absolute","top-0","left-0","w-full","h-2","bg-gradient-to-r","from-pink-400","to-red-500"],[1,"flex-1","flex","items-center"],[1,"text-5xl","font-extrabold","text-pink-600","dark:text-pink-400","leading-tight"],[1,"mt-4","text-sm","font-semibold","text-red-600","dark:text-red-400"],[1,"font-bold"],[1,"absolute","inset-0","bg-pink-500","dark:bg-pink-700","opacity-0","group-hover:opacity-10","transition-opacity","duration-300"],[1,"relative","group","overflow-hidden","bg-gradient-to-br","from-purple-50","to-indigo-50","dark:from-gray-900","dark:to-gray-800","rounded-2xl","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","p-6","lg:col-span-2"],[1,"absolute","top-0","left-0","w-1","h-full","bg-gradient-to-b","from-purple-500","to-indigo-500"],[1,"ml-4","mb-6","text-lg","font-bold","text-purple-700","dark:text-indigo-300","uppercase","tracking-wide"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class",`
          flex flex-col justify-between
          rounded-xl border-2 border-dashed border-purple-200
          bg-white dark:bg-gray-800
          p-4
          hover:bg-purple-100 dark:hover:bg-gray-700
          transition-colors duration-200
        `,4,"ngIf"],["class",`
          flex flex-col justify-between
          rounded-xl border-2 border-dashed border-yellow-200
          bg-white dark:bg-gray-800
          p-4
          hover:bg-yellow-50 dark:hover:bg-gray-700
          transition-colors duration-200
        `,4,"ngIf"],["class",`
          flex flex-col justify-between
          rounded-xl border-2 border-dashed border-green-200
          bg-white dark:bg-gray-800
          p-4
          hover:bg-green-50 dark:hover:bg-gray-700
          transition-colors duration-200
        `,4,"ngIf"],["class","mt-8 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-inner lg:col-span-2",4,"ngIf"],[1,"flex","flex-col","justify-between","rounded-xl","border-2","border-dashed","border-purple-200","bg-white","dark:bg-gray-800","p-4","hover:bg-purple-100","dark:hover:bg-gray-700","transition-colors","duration-200"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","text-purple-600","dark:text-purple-400"],[1,"ml-2","px-2","py-0.5","rounded-md","text-xs","font-semibold","bg-red-100","dark:bg-red-800","text-red-600","dark:text-red-300"],[1,"mt-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","flex-col","justify-between","rounded-xl","border-2","border-dashed","border-yellow-200","bg-white","dark:bg-gray-800","p-4","hover:bg-yellow-50","dark:hover:bg-gray-700","transition-colors","duration-200"],[1,"text-2xl","font-extrabold","text-yellow-600","dark:text-yellow-400"],[1,"ml-2","px-2","py-0.5","rounded-md","text-xs","font-semibold","bg-yellow-100","dark:bg-yellow-800","text-yellow-700","dark:text-yellow-200"],[1,"flex","flex-col","justify-between","rounded-xl","border-2","border-dashed","border-green-200","bg-white","dark:bg-gray-800","p-4","hover:bg-green-50","dark:hover:bg-gray-700","transition-colors","duration-200"],[1,"text-2xl","font-extrabold","text-green-600","dark:text-green-400"],[1,"ml-2","px-2","py-0.5","rounded-md","text-xs","font-semibold","bg-green-100","dark:bg-green-800","text-green-700","dark:text-green-200"],[1,"mt-8","p-4","bg-white","dark:bg-gray-800","rounded-lg","shadow-inner","lg:col-span-2"],["id","monthChart",1,"w-full","h-96"],[1,"relative","group","overflow-hidden","bg-gradient-to-br","from-green-50","to-teal-50","dark:from-gray-900","dark:to-gray-800","rounded-2xl","shadow-lg","hover:shadow-2xl","transition-shadow","duration-300","p-6"],[1,"absolute","top-0","right-0","w-1","h-full","bg-gradient-to-b","from-green-500","to-teal-500"],[1,"mr-4","mb-6","text-lg","font-bold","text-green-700","dark:text-teal-300","uppercase","tracking-wide"],["id","funnelChart",1,"w-full","h-96"],[1,"px-5","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-800","dark:text-gray-100"],[1,"px-5","py-4","whitespace-nowrap","text-sm","text-gray-700","dark:text-gray-200"],[1,"px-5","py-4","whitespace-nowrap","text-sm","text-right","text-gray-800","dark:text-gray-100"],[1,"px-5","py-4","whitespace-nowrap","text-sm","text-right","font-semibold","text-green-600","dark:text-green-400"],[1,"px-5","py-4","whitespace-nowrap","text-sm","text-right","font-semibold","text-blue-600","dark:text-blue-400"]],template:function(t,i){t&1&&(v(0,Z,11,0,"ng-container",1),e(1,"main",2)(2,"header",3)(3,"div",4)(4,"button",5),N("click",function(){return i.goBack()}),S(),e(5,"svg",6),m(6,"path",7),r(),C(),e(7,"span",8),o(8,"Atr\xE1s"),r()(),e(9,"h2",9),o(10),r()()(),e(11,"section",10)(12,"div",11),v(13,K,19,3,"div",12)(14,ee,21,9,"div",13)(15,te,23,8,"div",12),r(),e(16,"div",14),v(17,ie,9,4,"div",15)(18,le,5,1,"div",16),r(),e(19,"div",17)(20,"table",18)(21,"thead")(22,"tr",19)(23,"th",20),o(24," RUT "),r(),e(25,"th",20),o(26," Cotizador "),r(),e(27,"th",21),o(28," Asignadas "),r(),e(29,"th",21),o(30," Ganadas "),r(),e(31,"th",21),o(32," Monto propuesto "),r(),e(33,"th",21),o(34," Monto ganado "),r(),e(35,"th",21),o(36," Propuestas Econ\xF3micas "),r(),e(37,"th",21),o(38," % Concreci\xF3n "),r()()(),e(39,"tbody",22),v(40,de,20,20,"tr",23),r()()(),e(41,"div",24)(42,"div",25)(43,"div",26)(44,"div",27),m(45,"i",28),o(46,"Solicitudes Rechazadas "),r(),e(47,"div",29)(48,"span",30),o(49),r(),e(50,"span",31),o(51,"rechazos"),r()()(),m(52,"div",32),r(),e(53,"div",33)(54,"div",26)(55,"div",34),m(56,"i",35),o(57,"Total Negociaciones "),r(),e(58,"div",29)(59,"span",36),o(60),r(),e(61,"span",37),o(62,"acuerdos"),r()()(),m(63,"div",38),r(),e(64,"div",39)(65,"div",26)(66,"div",40),m(67,"i",41),o(68,"Atrasos "),r(),e(69,"div",29),m(70,"span",42),e(71,"span",43),o(72,"eventos"),r()()(),m(73,"div",44),r(),e(74,"div",45)(75,"div",26)(76,"div",46),m(77,"i",47),o(78,"D\xEDas de retraso total "),r(),e(79,"div",29),m(80,"span",48),e(81,"span",49),o(82,"d\xEDas"),r()()(),m(83,"div",50),r()()()()),t&2&&(p("ngIf",i.isLoading),n(10),s(" ",i.clienteNombre," "),n(3),p("ngIf",i.topSucursal),n(),p("ngIf",i.topSucursalMonto),n(),p("ngIf",i.totalMontoGanadasPerdidas),n(2),p("ngIf",i.summaryOts),n(),p("ngIf",i.solicitudesPorEstado.length),n(22),p("ngForOf",i.cotizadores),n(9),s(" ",i.totalRechazadas," "),n(11),s(" ",i.totalNegociaciones," "))},dependencies:[L,V,G,H],encapsulation:2})};export{W as DetalleComponent};
